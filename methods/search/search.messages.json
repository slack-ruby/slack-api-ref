{
  "group": "search",
  "name": "search.messages",
  "deprecated": false,
  "desc": "Searches for messages matching a query.",
  "args": {
    "cursor": {
      "required": false,
      "desc": "Use this when getting results with cursormark pagination. For first call send `*` for subsequent calls, send the value of `next_cursor` returned in the previous call's results.",
      "type": "string"
    },
    "highlight": {
      "required": false,
      "example": "true",
      "desc": "Pass a value of `true` to enable query highlight markers (see below).",
      "type": "boolean"
    },
    "query": {
      "required": true,
      "example": "pickleface",
      "desc": "Search query.",
      "type": "string"
    },
    "sort": {
      "required": false,
      "example": "timestamp",
      "desc": "Return matches sorted by either `score` or `timestamp`.",
      "type": "string"
    },
    "sort_dir": {
      "required": false,
      "example": "asc",
      "desc": "Change sort direction to ascending (`asc`) or descending (`desc`).",
      "type": "enum"
    },
    "team_id": {
      "required": false,
      "desc": "encoded team id to search in, required if org token is used.",
      "type": "string"
    }
  },
  "response": {
    "examples": [
      "{\n    \"messages\": {\n        \"matches\": [\n            {\n                \"channel\": {\n                    \"id\": \"C12345678\",\n                    \"is_ext_shared\": false,\n                    \"is_mpim\": false,\n                    \"is_org_shared\": false,\n                    \"is_pending_ext_shared\": false,\n                    \"is_private\": false,\n                    \"is_shared\": false,\n                    \"name\": \"general\",\n                    \"pending_shared\": []\n                },\n                \"iid\": \"cb64bdaa-c1e8-4631-8a91-0f78080113e9\",\n                \"permalink\": \"https://hitchhikers.slack.com/archives/C12345678/p1508284197000015\",\n                \"team\": \"T12345678\",\n                \"text\": \"The meaning of life the universe and everything is 42.\",\n                \"ts\": \"1508284197.000015\",\n                \"type\": \"message\",\n                \"user\": \"U2U85N1RV\",\n                \"username\": \"roach\"\n            },\n            {\n                \"channel\": {\n                    \"id\": \"C12345678\",\n                    \"is_ext_shared\": false,\n                    \"is_mpim\": false,\n                    \"is_org_shared\": false,\n                    \"is_pending_ext_shared\": false,\n                    \"is_private\": false,\n                    \"is_shared\": false,\n                    \"name\": \"random\",\n                    \"pending_shared\": []\n                },\n                \"iid\": \"9a00d3c9-bd2d-45b0-988b-6cff99ae2a90\",\n                \"permalink\": \"https://hitchhikers.slack.com/archives/C12345678/p1508795665000236\",\n                \"team\": \"T12345678\",\n                \"text\": \"The meaning of life the universe and everything is 101010\",\n                \"ts\": \"1508795665.000236\",\n                \"type\": \"message\",\n                \"user\": \"\",\n                \"username\": \"robot overlord\"\n            }\n        ],\n        \"pagination\": {\n            \"first\": 1,\n            \"last\": 2,\n            \"page\": 1,\n            \"page_count\": 1,\n            \"per_page\": 20,\n            \"total_count\": 2\n        },\n        \"paging\": {\n            \"count\": 20,\n            \"page\": 1,\n            \"pages\": 1,\n            \"total\": 2\n        },\n        \"total\": 2\n    },\n    \"ok\": true,\n    \"query\": \"The meaning of life the universe and everything\"\n}",
      "{\n    \"error\": \"No query passed\",\n    \"ok\": false\n}"
    ]
  },
  "errors": {},
  "has_paging": true,
  "default_count": 100
}