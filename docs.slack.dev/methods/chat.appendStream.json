{
  "desc": "Appends text to an existing streaming conversation.",
  "http_method": "POST",
  "scope": {
    "bot": [
      "chat:write"
    ]
  },
  "rate_limits": "t4",
  "json_input_supported": true,
  "slack_connect_workspaces_allowed": true,
  "args": {
    "type": "object",
    "required": [
      "token",
      "channel",
      "ts",
      "markdown_text"
    ],
    "properties": {
      "token": {
        "type": "string",
        "subtype": "auth",
        "org_app": {
          "allowed": true,
          "derive_team_context_from": "channel"
        },
        "example": "xxxx-xxxxxxxxx-xxxx"
      },
      "channel": {
        "desc": "An encoded ID that represents a channel, private group, or DM",
        "type": "string",
        "subtype": "channel"
      },
      "ts": {
        "desc": "The timestamp of the streaming message.",
        "schema": "ts"
      },
      "markdown_text": {
        "desc": "Accepts message text formatted in markdown. Limit this field to 12,000 characters. This text is what will be appended to the message received so far.",
        "type": "string",
        "example": "**This is bold text**"
      }
    }
  },
  "output": {
    "required": [
      "channel",
      "ts"
    ],
    "properties": {
      "channel": {
        "schema": "channel"
      },
      "ts": {
        "schema": "ts"
      }
    },
    "type": "object"
  },
  "errors": {
    "message_not_in_streaming_state": {
      "desc": "The message is not in the streaming state."
    },
    "messaging_processing_failed": {
      "desc": "Failed to process the message."
    },
    "as_user_not_supported": {
      "desc": "The `as_user` parameter does not function with workspace apps."
    },
    "channel_not_found": {
      "desc": "Value passed for `channel` was invalid."
    },
    "duplicate_channel_not_found": {
      "desc": "Channel associated with `client_msg_id` was invalid."
    },
    "duplicate_message_not_found": {
      "desc": "No duplicate message exists associated with `client_msg_id`."
    },
    "ekm_access_denied": {
      "desc": "Your message couldnâ€™t be sent because your admins have disabled sending messages to this channel."
    },
    "invalid_metadata_format": {
      "desc": "Invalid metadata format provided"
    },
    "invalid_metadata_schema": {
      "desc": "Invalid metadata schema provided"
    },
    "is_archived": {
      "desc": "Channel has been archived."
    },
    "message_limit_exceeded": {
      "desc": "Members on this team are sending too many messages. For more details, see https://slack.com/help/articles/115002422943-Usage-limits-for-free-workspaces"
    },
    "messages_tab_disabled": {
      "desc": "Messages tab for the app is disabled."
    },
    "metadata_must_be_sent_from_app": {
      "desc": "Message metadata can only be posted or updated using an app-level token"
    },
    "metadata_too_large": {
      "desc": "Metadata exceeds size limit"
    },
    "no_text": {
      "desc": "No message text provided"
    },
    "not_in_channel": {
      "desc": "Cannot post user messages to a channel they are not in."
    },
    "rate_limited": {
      "desc": "Application has posted too many messages, [read the Rate Limit documentation](/docs/rate-limits) for more information"
    },
    "restricted_action": {
      "desc": "A workspace preference prevents the authenticated user from posting."
    },
    "restricted_action_non_threadable_channel": {
      "desc": "Cannot post thread replies into a non_threadable channel."
    },
    "restricted_action_read_only_channel": {
      "desc": "Cannot post any message into a read-only channel."
    },
    "restricted_action_thread_locked": {
      "desc": "Cannot post replies to a thread that has been locked by admins."
    },
    "restricted_action_thread_only_channel": {
      "desc": "Cannot post top-level messages into a thread-only channel."
    },
    "slack_connect_canvas_sharing_blocked": {
      "desc": "Admin has disabled Canvas File sharing in all Slack Connect communications"
    },
    "slack_connect_file_link_sharing_blocked": {
      "desc": "Admin has disabled Slack File sharing in all Slack Connect communications"
    },
    "slack_connect_lists_sharing_blocked": {
      "desc": "Admin has disabled Lists sharing in all Slack Connect communications"
    },
    "team_not_found": {
      "desc": "This error occurs if, when using an org-wide token, the `channel_name` is passed instead of the `channel_id`."
    },
    "too_many_attachments": {
      "desc": "Too many attachments were provided with this message. A maximum of 100 attachments are allowed on a message."
    },
    "too_many_contact_cards": {
      "desc": "Too many contact_cards were provided with this message. A maximum of 10 contact cards are allowed on a message."
    },
    "message_not_found": {
      "desc": "Message not found"
    },
    "channel_type_not_supported": {
      "desc": "Channel type not supported"
    }
  },
  "examples": {
    "success": {
      "url": "/api/chat.appendStream?token=YOUR_TOKEN",
      "description": "Typical success response when appending to a streaming message",
      "example": {
        "ok": true,
        "channel": "C123ABC456",
        "ts": "1503435956.000247"
      }
    },
    "error": {
      "url": "/api/chat.appendStream?token=INVALID_TOKEN",
      "description": "Typical error response",
      "example": {
        "ok": false,
        "error": "invalid_auth"
      }
    }
  },
  "warnings": {
    "message_truncated": {
      "desc": "The `text` field of a message should have no more than 40,000 characters. We [truncate really long messages](/changelog/2018-04-truncating-really-long-messages)."
    }
  }
}